
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            min-height: 100vh;
        }
        @keyframes pulse { 
            0%, 100% { opacity: 1; } 
            50% { opacity: 0.5; } 
        }
        .animate-pulse { 
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; 
        }
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #3b82f6; border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: #2563eb; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ©
        const DB_CONFIG = {
            binId: '679002b0e41b4d34e46a68e1', // Ù…Ø¹Ø±Ù Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            apiKey: '$2a$10$vKHNwL7LFu3g6jqPKdJxVu6YH8YkO0RTPj1kkqJnvKaLxJ.XqYDNi', // Ù…ÙØªØ§Ø­ Ø§Ù„ÙˆØµÙˆÙ„
            baseUrl: 'https://api.jsonbin.io/v3/b/'
        };

        const Icon = ({ name, className = "" }) => {
            const icons = {
                shield: "ğŸ›¡ï¸", search: "ğŸ”", plus: "â•", fileText: "ğŸ“„", users: "ğŸ‘¥",
                home: "ğŸ ", logout: "ğŸšª", userCog: "âš™ï¸", star: "â­", userPlus: "ğŸ‘¤â•",
                bell: "ğŸ””", megaphone: "ğŸ“¢", cloud: "â˜ï¸", download: "â¬‡ï¸"
            };
            return <span className={className}>{icons[name] || "â€¢"}</span>;
        };

        const PoliceSystem = () => {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [currentUser, setCurrentUser] = useState(null);
            const [loginError, setLoginError] = useState('');
            const [loginForm, setLoginForm] = useState({ id: '', password: '' });
            const [currentPage, setCurrentPage] = useState('dashboard');
            const [loading, setLoading] = useState(true);
            const [syncing, setSyncing] = useState(false);
            
            const [users, setUsers] = useState([{
                id: '1001', password: 'commander', name: 'Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…Ø¯',
                role: 'Ù‚Ø§Ø¦Ø¯', rank: 'ÙØ±ÙŠÙ‚ Ø£ÙˆÙ„', department: 'Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø©'
            }]);
            const [criminals, setCriminals] = useState([]);
            const [reports, setReports] = useState([]);
            const [announcements, setAnnouncements] = useState([]);
            const [militaryPersonnel, setMilitaryPersonnel] = useState([{
                id: 1, name: 'Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…Ø¯', rank: 'ÙØ±ÙŠÙ‚ Ø£ÙˆÙ„',
                empId: '1001', department: 'Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø©', status: 'Ù†Ø´Ø·'
            }]);
            
            const [searchTerm, setSearchTerm] = useState('');
            const [newCriminal, setNewCriminal] = useState({ name: '', crime: '', danger: 'Ù…ØªÙˆØ³Ø·' });
            const [newUser, setNewUser] = useState({ id: '', password: '', name: '', role: 'Ø¬Ù†Ø¯ÙŠ', rank: 'Ø¬Ù†Ø¯ÙŠ', department: '' });
            const [newAnnouncement, setNewAnnouncement] = useState({ title: '', content: '' });

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø©
            const loadFromCloud = async () => {
                try {
                    setLoading(true);
                    const response = await fetch(`${DB_CONFIG.baseUrl}${DB_CONFIG.binId}/latest`, {
                        headers: {
                            'X-Master-Key': DB_CONFIG.apiKey
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        const cloudData = data.record;
                        
                        if (cloudData.users) setUsers(cloudData.users);
                        if (cloudData.criminals) setCriminals(cloudData.criminals);
                        if (cloudData.reports) setReports(cloudData.reports);
                        if (cloudData.announcements) setAnnouncements(cloudData.announcements);
                        if (cloudData.militaryPersonnel) setMilitaryPersonnel(cloudData.militaryPersonnel);
                        
                        console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø©');
                    }
                } catch (error) {
                    console.log('âš ï¸ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', error);
                } finally {
                    setLoading(false);
                }
            };

            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©
            const saveToCloud = async () => {
                try {
                    setSyncing(true);
                    const cloudData = {
                        users,
                        criminals,
                        reports,
                        announcements,
                        militaryPersonnel,
                        lastUpdate: new Date().toISOString()
                    };
                    
                    const response = await fetch(`${DB_CONFIG.baseUrl}${DB_CONFIG.binId}`, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-Master-Key': DB_CONFIG.apiKey
                        },
                        body: JSON.stringify(cloudData)
                    });
                    
                    if (response.ok) {
                        console.log('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©');
                    }
                } catch (error) {
                    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸:', error);
                } finally {
                    setSyncing(false);
                }
            };

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
            useEffect(() => {
                loadFromCloud();
            }, []);

            // Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            useEffect(() => {
                if (!loading) {
                    saveToCloud();
                }
            }, [users, criminals, reports, announcements, militaryPersonnel]);

            const hasPermission = (action) => {
                if (!currentUser) return false;
                const permissions = {
                    'Ù‚Ø§Ø¦Ø¯': ['view', 'add', 'edit', 'delete', 'manage_personnel'],
                    'Ø¶Ø§Ø¨Ø·': ['view', 'add', 'edit'],
                    'Ø¬Ù†Ø¯ÙŠ': ['view']
                };
                return permissions[currentUser.role]?.includes(action);
            };

            const handleLogin = () => {
                const user = users.find(u => u.id === loginForm.id && u.password === loginForm.password);
                if (user) {
                    setCurrentUser(user);
                    setIsLoggedIn(true);
                    setLoginError('');
                } else {
                    setLoginError('Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                }
            };

            const handleLogout = () => {
                setIsLoggedIn(false);
                setCurrentUser(null);
                setLoginForm({ id: '', password: '' });
                setCurrentPage('dashboard');
            };

            const addCriminal = () => {
                if (!hasPermission('add')) return alert('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ©');
                if (newCriminal.name && newCriminal.crime) {
                    setCriminals([...criminals, {
                        id: Date.now(), ...newCriminal, status: 'Ù…Ø·Ù„ÙˆØ¨',
                        date: new Date().toISOString().split('T')[0]
                    }]);
                    setNewCriminal({ name: '', crime: '', danger: 'Ù…ØªÙˆØ³Ø·' });
                    alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¬Ø±Ù… ÙˆØ­ÙØ¸Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©!');
                }
            };

            const deleteCriminal = (id) => {
                if (!hasPermission('delete')) return alert('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ©');
                setCriminals(criminals.filter(c => c.id !== id));
            };

            const addUser = () => {
                if (!hasPermission('manage_personnel')) return alert('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ©');
                if (!newUser.id || !newUser.password || !newUser.name || !newUser.department) return alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                if (users.find(u => u.id === newUser.id)) return alert('Ø§Ù„Ø±Ù‚Ù… Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹!');
                setUsers([...users, newUser]);
                setMilitaryPersonnel([...militaryPersonnel, {
                    id: Date.now(), name: newUser.name, rank: newUser.rank,
                    empId: newUser.id, department: newUser.department, status: 'Ù†Ø´Ø·'
                }]);
                setNewUser({ id: '', password: '', name: '', role: 'Ø¬Ù†Ø¯ÙŠ', rank: 'Ø¬Ù†Ø¯ÙŠ', department: '' });
                alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…!');
            };

            const deleteUser = (userId) => {
                if (!hasPermission('manage_personnel')) return alert('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ©');
                if (userId === currentUser.id) return alert('Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ!');
                setUsers(users.filter(u => u.id !== userId));
                setMilitaryPersonnel(militaryPersonnel.filter(m => m.empId !== userId));
                alert('ØªÙ… Ø§Ù„Ø­Ø°Ù');
            };

            const filteredCriminals = criminals.filter(c => 
                c.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                c.crime.toLowerCase().includes(searchTerm.toLowerCase())
            );

            if (loading) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center">
                        <div className="text-center">
                            <Icon name="cloud" className="text-8xl mb-4 animate-pulse" />
                            <h2 className="text-2xl font-bold text-white mb-2">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</h2>
                            <p className="text-blue-400">Loading from cloud database</p>
                        </div>
                    </div>
                );
            }

            if (!isLoggedIn) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4">
                        <div className="bg-gradient-to-b from-slate-800 to-slate-900 rounded-lg shadow-2xl p-8 w-full max-w-md border border-blue-800/50">
                            <div className="text-center mb-8">
                                <div className="inline-block mb-4 p-4 bg-blue-600 rounded-full">
                                    <Icon name="shield" className="text-6xl" />
                                </div>
                                <h1 className="text-3xl font-bold text-white mb-2">Ù†Ø¸Ø§Ù… ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©</h1>
                                <p className="text-blue-400/80 text-sm mb-2">Ministry of Interior System</p>
                                <div className="flex items-center justify-center gap-2 text-green-400 text-xs">
                                    <Icon name="cloud" className="text-base" />
                                    <span>Ù…ØªØµÙ„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ©</span>
                                </div>
                            </div>
                            <div className="space-y-4">
                                <div>
                                    <label className="block text-blue-400 mb-2 text-right font-semibold">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠ</label>
                                    <input type="text" value={loginForm.id}
                                        onChange={(e) => setLoginForm({...loginForm, id: e.target.value})}
                                        className="w-full px-4 py-3 bg-slate-700/50 border border-blue-800/50 rounded-lg text-right text-white"
                                        placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠ" />
                                </div>
                                <div>
                                    <label className="block text-blue-400 mb-2 text-right font-semibold">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                                    <input type="password" value={loginForm.password}
                                        onChange={(e) => setLoginForm({...loginForm, password: e.target.value})}
                                        onKeyPress={(e) => e.key === 'Enter' && handleLogin()}
                                        className="w-full px-4 py-3 bg-slate-700/50 border border-blue-800/50 rounded-lg text-right text-white"
                                        placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
                                </div>
                                {loginError && <div className="bg-red-900/40 border border-red-600 text-red-400 px-4 py-3 rounded-lg text-right">{loginError}</div>}
                                <button onClick={handleLogin}
                                    className="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg hover:from-blue-500 hover:to-blue-600 font-bold text-lg">
                                    Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900">
                    {syncing && (
                        <div className="fixed top-4 left-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50 animate-pulse">
                            <Icon name="cloud" />
                            <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...</span>
                        </div>
                    )}
                    
                    <header className="bg-slate-900 text-white p-4 shadow-2xl border-b-2 border-blue-800/50">
                        <div className="container mx-auto flex justify-between items-center flex-wrap gap-4">
                            <div className="flex items-center gap-3">
                                <Icon name="shield" className="text-4xl" />
                                <div>
                                    <h1 className="text-2xl font-bold">Ù†Ø¸Ø§Ù… ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©</h1>
                                    <div className="flex items-center gap-2">
                                        <p className="text-xs text-blue-400">Ministry of Interior System</p>
                                        <span className="text-xs text-green-400 flex items-center gap-1">
                                            <Icon name="cloud" className="text-sm" /> Ù…ØªØ²Ø§Ù…Ù†
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div className="flex items-center gap-4">
                                <button onClick={loadFromCloud}
                                    className="bg-green-700 px-3 py-2 rounded-lg hover:bg-green-600 flex items-center gap-2 text-sm">
                                    <Icon name="download" />
                                    ØªØ­Ø¯ÙŠØ«
                                </button>
                                <div className="text-right bg-slate-800 px-4 py-2 rounded border border-blue-800">
                                    <p className="font-bold">{currentUser.name}</p>
                                    <p className="text-xs text-blue-400">{currentUser.rank} - {currentUser.role}</p>
                                </div>
                                <button onClick={handleLogout}
                                    className="bg-red-700 px-4 py-2 rounded-lg hover:bg-red-600 flex items-center gap-2">
                                    <Icon name="logout" />
                                    Ø®Ø±ÙˆØ¬
                                </button>
                            </div>
                        </div>
                    </header>

                    <div className="container mx-auto p-6">
                        <div className="grid grid-cols-2 md:grid-cols-6 gap-4 mb-6">
                            {[
                                {page: 'dashboard', icon: 'home', label: 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©'},
                                {page: 'criminals', icon: 'users', label: 'Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ÙŠÙ†'},
                                {page: 'reports', icon: 'fileText', label: 'Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª'},
                                {page: 'announcements', icon: 'megaphone', label: 'Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'},
                                {page: 'military', icon: 'userCog', label: 'Ø§Ù„Ø¶Ø¨Ø§Ø·'},
                            ].map(({page, icon, label}) => (
                                <button key={page} onClick={() => setCurrentPage(page)}
                                    className={`p-4 rounded-lg shadow-lg flex flex-col items-center gap-2 ${
                                        currentPage === page ? 'bg-blue-600 text-white' : 'bg-slate-800 text-blue-400 hover:bg-slate-700'
                                    }`}>
                                    <Icon name={icon} className="text-2xl" />
                                    <span className="text-sm font-semibold">{label}</span>
                                </button>
                            ))}
                            {hasPermission('manage_personnel') && (
                                <button onClick={() => setCurrentPage('users')}
                                    className={`p-4 rounded-lg shadow-lg flex flex-col items-center gap-2 ${
                                        currentPage === 'users' ? 'bg-blue-600 text-white' : 'bg-slate-800 text-blue-400 hover:bg-slate-700'
                                    }`}>
                                    <Icon name="userPlus" className="text-2xl" />
                                    <span className="text-sm font-semibold">Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</span>
                                </button>
                            )}
                        </div>

                        {currentPage === 'dashboard' && (
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <div className="bg-gradient-to-br from-red-600 to-red-700 text-white p-6 rounded-lg">
                                    <div className="text-5xl font-bold">{criminals.length}</div>
                                    <h3 className="text-xl">Ù…Ø¬Ø±Ù…ÙŠÙ† Ù…Ø·Ù„ÙˆØ¨ÙŠÙ†</h3>
                                </div>
                                <div className="bg-gradient-to-br from-blue-600 to-blue-700 text-white p-6 rounded-lg">
                                    <div className="text-5xl font-bold">{reports.length}</div>
                                    <h3 className="text-xl">Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</h3>
                                </div>
                                <div className="bg-gradient-to-br from-green-600 to-green-700 text-white p-6 rounded-lg">
                                    <div className="text-5xl font-bold">{militaryPersonnel.length}</div>
                                    <h3 className="text-xl">Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠÙŠÙ†</h3>
                                </div>
                            </div>
                        )}

                        {currentPage === 'criminals' && (
                            <div className="space-y-4">
                                <div className="bg-slate-800 p-4 rounded-lg">
                                    <input type="text" placeholder="Ø¨Ø­Ø«..." value={searchTerm}
                                        onChange={(e) => setSearchTerm(e.target.value)}
                                        className="w-full px-4 py-2 bg-slate-700 rounded-lg text-white" />
                                </div>
                                {hasPermission('add') && (
                                    <div className="bg-slate-800 p-6 rounded-lg">
                                        <h3 className="text-xl font-bold text-white mb-4">Ø¥Ø¶Ø§ÙØ© Ù…Ø¬Ø±Ù…</h3>
                                        <div className="space-y-3">
                                            <input type="text" placeholder="Ø§Ù„Ø§Ø³Ù…" value={newCriminal.name}
                                                onChange={(e) => setNewCriminal({...newCriminal, name: e.target.value})}
                                                className="w-full px-4 py-2 bg-slate-700 rounded-lg text-white" />
                                            <input type="text" placeholder="Ø§Ù„Ø¬Ø±ÙŠÙ…Ø©" value={newCriminal.crime}
                                                onChange={(e) => setNewCriminal({...newCriminal, crime: e.target.value})}
                                                className="w-full px-4 py-2 bg-slate-700 rounded-lg text-white" />
                                            <select value={newCriminal.danger}
                                                onChange={(e) => setNewCriminal({...newCriminal, danger: e.target.value})}
                                                className="w-full px-4 py-2 bg-slate-700 rounded-lg text-white">
                                                <option value="Ù…Ù†Ø®ÙØ¶">Ù…Ù†Ø®ÙØ¶</option>
                                                <option value="Ù…ØªÙˆØ³Ø·">Ù…ØªÙˆØ³Ø·</option>
                                                <option value="Ø¹Ø§Ù„ÙŠ">Ø¹Ø§Ù„ÙŠ</option>
                                            </select>
                                            <button onClick={addCriminal}
                                                className="w-full bg-blue-600 py-2 rounded-lg text-white hover:bg-blue-700">
                                                Ø¥Ø¶Ø§ÙØ©
                                            </button>
                                        </div>
                                    </div>
                                )}
                                {filteredCriminals.map(criminal => (
                                    <div key={criminal.id} className="bg-slate-800 p-6 rounded-lg">
                                        <div className="flex justify-between items-start">
                                            <div>
                                                <h3 className="text-xl font-bold text-white">{criminal.name}</h3>
                                                <p className="text-gray-400">Ø§Ù„Ø¬Ø±ÙŠÙ…Ø©: {criminal.crime}</p>
                                                <p className="text-gray-400">Ø§Ù„Ø®Ø·ÙˆØ±Ø©: {criminal.danger}</p>
                                                <p className="text-gray-500 text-sm">Ø§Ù„ØªØ§Ø±ÙŠØ®: {criminal.date}</p>
                                            </div>
                                            {hasPermission('delete') && (
                                                <button onClick={() => deleteCriminal(criminal.id)}
                                                    className="bg-red-600 px-4 py-2 rounded text-white">Ø­Ø°Ù</button>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {currentPage === 'users' && hasPermission('manage_personnel') && (
                            <div className="bg-slate-800 p-6 rounded-lg">
                                <h2 className="text-2xl font-bold text-white mb-4">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
                                {users.map(user => (
                                    <div key={user.id} className="bg-slate-700 p-4 rounded mb-3">
                                        <div className="flex justify-between">
                                            <div>
                                                <h3 className="text-white font-bold">{user.name}</h3>
                                                <p className="text-gray-400 text-sm">{user.id} | {user.rank} | {user.role}</p>
                                            </div>
                                            {user.id !== currentUser.id && (
                                                <button onClick={() => deleteUser(user.id)}
                                                    className="bg-red-600 px-3 py-1 rounded text-white text-sm">Ø­Ø°Ù</button>
                                            )}
                                        </div>
                                    </div>
                                ))}
                                <div className="mt-6 p-4 bg-purple-900/20 rounded border border-purple-800">
                                    <h3 className="text-white font-bold mb-3">Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù…</h3>
                                    <div className="grid md:grid-cols-2 gap-3">
                                        <input type="text" placeholder="Ø§Ù„Ø±Ù‚Ù…" value={newUser.id}
                                            onChange={(e) => setNewUser({...newUser, id: e.target.value})}
                                            className="px-3 py-2 bg-slate-700 rounded text-white" />
                                        <input type="text" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" value={newUser.password}
                                            onChange={(e) => setNewUser({...newUser, password: e.target.value})}
                                            className="px-3 py-2 bg-slate-700 rounded text-white" />
                                        <input type="text" placeholder="Ø§Ù„Ø§Ø³Ù…" value={newUser.name}
                                            onChange={(e) => setNewUser({...newUser, name: e.target.value})}
                                            className="px-3 py-2 bg-slate-700 rounded text-white" />
                                        <input type="text" placeholder="Ø§Ù„Ù‚Ø³Ù…" value={newUser.department}
                                            onChange={(e) => setNewUser({...newUser, department: e.target.value})}
                                            className="px-3 py-2 bg-slate-700 rounded text-white" />
                                        <select value={newUser.role} onChange={(e) => setNewUser({...newUser, role: e.target.value})}
                                            className="px-3 py-2 bg-slate-700 rounded text-white">
                                            <option value="Ø¬Ù†Ø¯ÙŠ">Ø¬Ù†Ø¯ÙŠ</option>
                                            <option value="Ø¶Ø§Ø¨Ø·">Ø¶Ø§Ø¨Ø·</option>
                                            <option value="Ù‚Ø§Ø¦Ø¯">Ù‚Ø§Ø¦Ø¯</option>
                                        </select>
                                        <select value={newUser.rank} onChange={(e) => setNewUser({...newUser, rank: e.target.value})}
                                            className="px-3 py-2 bg-slate-700 rounded text-white">
                                             <option value="Cadet">Cadet</option>
  <option value="Solo Cadet">Solo Cadet</option>

  <option value="Officer">Officer</option>
  <option value="Officer I">Officer I</option>
  <option value="Officer II">Officer II</option>
  <option value="Officer III">Officer III</option>

  <option value="Senior Officer">Senior Officer</option>

  <option value="Sergeant">Sergeant</option>
  <option value="First Sergeant">First Sergeant</option>
  <option value="Staff Sergeant">Staff Sergeant</option>

  <option value="Lieutenant">Lieutenant</option>
  <option value="First Lieutenant">First Lieutenant</option>
  <option value="Captain">Captain</option>
  <option value="Major">Major</option>
  <option value="Colonel">Colonel</option>

  <option value="Brigadier General">Brigadier General</option>
  <option value="Major General">Major General</option>
  <option value="Lieutenant General">Lieutenant General</option>
  <option value="General">General</option>
                                        </select>
                                    </div>
                                    <button onClick={addUser}
                                        className="mt-3 w-full bg-purple-600 py-2 rounded text-white">Ø¥Ø¶Ø§ÙØ©</button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<PoliceSystem />, document.getElementById('root'));
    </script>
</body>
</html>
